(window.webpackJsonp=window.webpackJsonp||[]).push([[76,474],{1299:function(e,t,r){var content=r(1440);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("01823088",content,!0,{sourceMap:!1})},1340:function(e,t,r){e.exports=r.p+"img/watermark.aec39ca.svg"},1368:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=(e,t)=>"tour-".concat(e,"-").concat(t)},1373:function(e,t,r){e.exports=r.p+"img/plus-picker.01c5e9f.png"},1390:function(e,t,r){"use strict";t.a={data:()=>({unsubscribe:null}),destroyed(){this.stopWatch()},methods:{startWatch(){this.unsubscribe||(this.unsubscribe=this.$store.subscribe(((e,t)=>{"settings/setPaletteId"===e.type&&this.$nextTick((()=>{this.onPaletteSelected(t)})),"brandPalettes/setAll"===e.type&&this.$nextTick((()=>{this.onPalettesLoaded(t)}))})))},stopWatch(){this.unsubscribe&&this.unsubscribe(),this.unsubscribe=null},onPalettesLoaded(){},onPaletteSelected(){}}}},1432:function(e,t,r){"use strict";r.r(t);var n={components:{Lottie:r(138).default},props:{width:{type:Number,default:null},height:{type:Number,default:null},observe:{type:Boolean,default:!0}}},o=r(1439),l=r(5);var component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("lottie",e._b({attrs:{width:e.width,height:e.height,observe:e.observe,"animation-name":"Loader",loop:""}},"lottie",e.$attrs,!1))],1)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.default=component.exports},1439:function(e,t,r){"use strict";var n=r(1299),o=r.n(n);r.d(t,"default",(function(){return o.a}))},1440:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,".container_V42UB{position:absolute;top:0;left:0;z-index:100;width:100%;height:100%;display:flex;align-items:center;justify-content:center}\n",""]),n.locals={container:"container_V42UB"},e.exports=n},1477:function(e,t,r){"use strict";r(26),r(27),r(197),r(198),r(172);var n={props:{canvasRef:{type:String,required:!0},canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0},preview:{type:String,required:!0},itemId:{type:Number,required:!0},showGridVariant:{type:Boolean,default:!1}},data:()=>({isRendering:!1}),watch:{preview(e){e&&this.renderSVGToCanvas(!0)},canvasWidth(){this.renderSVGToCanvas()}},mounted(){this.$el.addEventListener("contextmenu",(e=>{e.preventDefault()})),this.preview&&this.renderSVGToCanvas()},methods:{renderSVGToCanvas(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRendering){if(e)var t=this.$watch("isRendering",(e=>{e||(this.renderSVGToCanvas(),t())}))}else try{this.isRendering=!0;var canvas=this.$refs[this.canvasRef],r=canvas.getContext("2d"),n=window.devicePixelRatio||1;canvas.width=this.canvasWidth*n,canvas.height=this.canvasHeight*n,canvas.style.width="".concat(this.canvasWidth,"px"),canvas.style.height="".concat(this.canvasHeight,"px"),r.clearRect(0,0,this.canvasWidth,this.canvasHeight),r.setTransform(1,0,0,1,0,0),r.scale(n,n);var o=new Blob([this.preview],{type:"image/svg+xml"}),l=URL.createObjectURL(o),c=(new DOMParser).parseFromString(this.preview,"text/xml").childNodes[0].viewBox.baseVal,d=c.width,h=c.height,m=this.canvasWidth/d,v=this.canvasHeight/h,w=Math.min(m,v),f=(this.canvasWidth-d*w)/2,y=(this.canvasHeight-h*w)/2,img=new Image;img.onload=()=>{r.drawImage(img,f,y,d*w,h*w),URL.revokeObjectURL(l),this.isRendering=!1},img.src=l}catch(e){console.error("Error rendering SVG to canvas:",e),this.$sentry.withScope((t=>{t.setExtra("data",{itemId:this.itemId,preview:this.preview}),this.$sentry.captureException(new Error("Error rendering SVG to canvas: ".concat(e)))})),this.isRendering=!1}}}},o=n,l=r(5),component=Object(l.a)(o,(function(){var e=this;return(0,e._self._c)("canvas",{ref:e.canvasRef,attrs:{id:e.canvasRef}})}),[],!1,null,null,null);t.a=component.exports},1589:function(e,t){},1590:function(e,t){},1775:function(e,t,r){e.exports=r.p+"img/featured.80c46c1.svg"},2017:function(e,t,r){var content=r(3725);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("5067ddb8",content,!0,{sourceMap:!1})},3098:function(e,t,r){"use strict";var n=r(7),o=r(8),l=(r(33),r(26),r(41),r(27),r(1514)),c=r(1432),d=r(1390),h=r(1477);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var v={components:{Loader:c.default,CanvasRenderer:h.a},mixins:[d.a],props:{item:{type:Object,default:()=>{}},size:{type:Number,default:256},source:{type:String,default:null},shouldApplyBrandPalette:{type:Boolean,default:!0}},data:()=>({originalContent:null,brandedContent:null,editorInstance:null,initiatedWithBrandColor:!1,isLoading:!0,disableTimeTravel:!0}),computed:{preview(){return this.brandedContent||this.originalContent},id(){return"pdpColorEditor-".concat(this.item.id).concat(this.source?"-".concat(this.source):"")},canvasWidth(){return this.size},canvasHeight(){return this.size},selectedBrandPalette(){return this.$store.getters["brandPalettes/selectedPalette"]},currentModal(){return this.$modal&&this.$modal.currentModal?this.$modal.currentModal.id:null}},watch:{currentModal(e,t){["modalEditIcon","modalItemPreview",null].includes(e)&&["modalEditIcon","modalItemPreview",null].includes(t)&&(this.unsubscribe?this.stopWatch():(this.onPaletteSelected(),this.startWatch()))},preview(e){e&&this.$emit("updatePreview",e)}},created(){this.startWatch()},mounted(){var e=this;return Object(o.a)((function*(){try{var t="icon"===e.item.asset?e.item.urls.original:e.item.urls.svg,{data:data}=yield e.$axios(t,{withCredentials:!1});if(!data)return void e.$emit("disableBrandedPreview");e.originalContent=yield Object(l.processSvg)(data,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},"illustration"===e.item.asset&&{mergePaths:!1})),e.selectedBrandPalette&&e.shouldApplyBrandPalette&&(e.apply(),e.initiatedWithBrandColor=!0),e.preview&&e.$emit("updatePreview",e.preview)}catch(t){console.error(t),e.$sentry.captureException(t),e.$emit("disableBrandedPreview")}finally{e.isLoading=!1}}))()},methods:{onPalettesLoaded(){!this.initiatedWithBrandColor&&this.selectedBrandPalette&&this.shouldApplyBrandPalette&&this.apply()},onPaletteSelected(){this.selectedBrandPalette&&this.shouldApplyBrandPalette?this.apply():this.brandedContent=null},apply(){var e=this;return Object(o.a)((function*(){e.editorInstance||(e.editorInstance=new l.Editor),e.brandedContent=yield e.editorInstance.getBrandSvg(e.originalContent,e.selectedBrandPalette.colors)}))()},onLargePreview(){"illustration"===this.item.asset&&this.$modal.open({id:"modalItemPreviewFs",component:Promise.all([r.e(0),r.e(362)]).then(r.bind(null,6184)),props:{item:this.item,brandPreview:this.preview,selectedPreviewIndex:this.selectedPreviewIndex},options:{modalOnModal:!0}})}}},w=v,f=r(5),component=Object(f.a)(w,(function(){var e=this,t=e._self._c;return t("div",{on:{click:e.onLargePreview}},[e.isLoading?t("loader",{attrs:{width:200,height:200}}):!e.isLoading&&e.preview?t("canvas-renderer",{attrs:{"canvas-ref":e.id,"canvas-width":e.canvasWidth,"canvas-height":e.canvasHeight,preview:e.preview,"item-id":e.item.id}}):e._e()],1)}),[],!1,null,null,null);t.a=component.exports},3121:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=(e,t,r)=>{var n=1500;return e<1500&&t<n?n=t:e>t&&(n=Math.round(1500*t/e)),101*r/n}},3392:function(e,t,r){"use strict";r(67);var n=r(7),o=(r(617),r(3896)),l=r(4639),c=r(1856),d=r(4193),h=r(1862),m=r(1253),v=r(383),w=r.n(v);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _={components:{UisPlay:o.a,UisPause:l.a,UisEllipsisV:c.a,UisCheck:d.a,BFormInput:h.a,BDropdown:m.a},props:{isPlaying:{type:Boolean,default:!0},animation:{type:Object,default:()=>{}},isLoading:{type:String,default:null},isCopied:{type:Boolean,default:!1},client:{type:String,default:null},item:{type:Object,default:()=>{}},canChangeFrame:{type:Boolean,default:!0},hasActionDropdown:{type:Boolean,default:!0},isInternalSeek:{type:Boolean,default:!0},eventName:{type:String,default:"player-control"},rangeInput:{type:String,default:null}},data:()=>({isValidValue:!0}),computed:{currentFrame(){return Math.round(this.animation.currentFrame)},totalFrame(){return Math.round(this.animation.totalFrames)}},methods:{onPlayPause(e){var t;this.$analytics.track(this.eventName,{route_name:this.$route.name,route_path:this.$route.path,action:e,data:y(y({client:this.client},(null===(t=this.item)||void 0===t?void 0:t.id)&&y({id:this.item.id,name:this.item.name,slug:this.item.slug,identifier:this.item.identifier,price:this.item.payable_price,licenseId:this.item.license_id},this.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:this.$store.getters["brandPalettes/selectedPalette"].id})),{},{frame:this.currentFrame,totalFrame:this.totalFrame})}),this.$emit(e),"pause"===e&&(this.isValidValue=!0)},changeFrame(e){e&&e>=0&&e<=this.totalFrame?(this.isValidValue=!0,this.isPlaying&&this.$emit("pause"),this.isInternalSeek?this.animation.goToAndStop(parseFloat(e),!0):this.$emit("seek",parseFloat(e))):this.isValidValue=!1,this.track(e)},track:w()((function(e){var t;this.$analytics.track(this.eventName,{route_name:this.$route.name,route_path:this.$route.path,action:"change-frame",data:y(y({client:this.client},(null===(t=this.item)||void 0===t?void 0:t.id)&&y({id:this.item.id,name:this.item.name,slug:this.item.slug,identifier:this.item.identifier,price:this.item.payable_price,licenseId:this.item.license_id},this.$store.getters["brandPalettes/selectedPalette"]&&{brand_palette_id:this.$store.getters["brandPalettes/selectedPalette"].id})),{},{frame:e,totalFrame:this.totalFrame})})}),1e3)}},P=r(3724),x=r(5);var component=Object(x.a)(_,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.controlsWrapper},[e.isPlaying?t("div",{class:["d-flex p-2 mr-2-5",e.$style.controlsBtn],on:{click:function(t){return e.onPlayPause("pause")}}},[t("uis-pause",{attrs:{size:"24"}})],1):t("div",{class:["d-flex p-2 mr-2-5",e.$style.controlsBtn],on:{click:function(t){return e.onPlayPause("play")}}},[t("uis-play",{attrs:{size:"24"}})],1),e._v(" "),t("b-form-input",{ref:"rangeInput",class:["mr-2-5",e.$style.rangeInput,e.rangeInput],style:{background:"linear-gradient(to right, #00c6ff 0%, #00c6ff ".concat(100*e.currentFrame/e.totalFrame,"%, #d9e0e6  ").concat(100*e.currentFrame/e.totalFrame,"%, #d9e0e6 100%)")},attrs:{value:e.currentFrame,max:e.totalFrame,min:"0",type:"range"},on:{input:e.changeFrame}}),e._v(" "),t("div",{class:["d-flex justify-content-center align-items-center flex-nowrap mr-2-5",e.$style.frameInputWrapper,e.isPlaying||e.isValidValue?null:e.$style.errorState]},[t("b-form-input",{style:{width:"".concat(8*e.totalFrame.toString().length,"px")},attrs:{value:e.currentFrame,max:e.totalFrame,disabled:!e.canChangeFrame,min:"0",type:"number"},on:{input:e.changeFrame,focus:function(t){return e.$emit("pause")}}}),e._v(" "),t("label",{staticClass:"text-nowrap mb-0 ml-2"},[e._v("/ "+e._s(e.totalFrame))])],1),e._v(" "),e.hasActionDropdown?t("b-dropdown",{staticClass:"p-0 mr-2-5",attrs:{"toggle-class":e.$style.dropdownBtn,variant:"zero","no-caret":"",right:"",lazy:""},on:{show:function(t){return e.$emit("pause")}}},[t("template",{slot:"button-content"},[t("uis-ellipsis-v",{attrs:{size:"16"}})],1),e._v(" "),t("button",{class:["btn btn-sm btn-block",e.isCopied?"has-icon":null,"copy"===e.isLoading?"ajax-loading-light disabled":null,e.$style.actionBtn],attrs:{type:"button"},on:{click:function(t){return e.$emit("copySvg")}}},[e.isCopied?t("span",[t("uis-check",{staticClass:"mr-2-5",attrs:{size:"24"}}),e._v("\n        "+e._s(e.$t("buttons.copied"))+"\n      ")],1):t("span",[e._v(e._s(e.$t("buttons.copy_as_format",{format:"SVG"})))])]),e._v(" "),t("button",{class:["btn btn-sm btn-block","download"===e.isLoading?"ajax-loading-light disabled":null,e.$style.actionBtn],attrs:{type:"button"},on:{click:function(t){return e.$emit("downloadSvg")}}},[e._v("\n      Download as SVG\n    ")])],2):e._e()],1)}),[],!1,(function(e){this.$style=P.default.locals||P.default}),null,null);t.a=component.exports},3724:function(e,t,r){"use strict";var n=r(2017),o=r.n(n);r.d(t,"default",(function(){return o.a}))},3725:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,".controlsWrapper_2F2lz{display:flex;align-items:center}.controlsWrapper_2F2lz .controlsBtn_iLL8-{cursor:pointer}.controlsWrapper_2F2lz .rangeInput_Mipqq{-webkit-appearance:none;appearance:none;width:207px;height:4px;outline:none;border-radius:12px;opacity:1;cursor:pointer;transition:opacity 0.2s}.controlsWrapper_2F2lz .rangeInput_Mipqq::-webkit-slider-runnable-track{height:4px}.controlsWrapper_2F2lz .rangeInput_Mipqq::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:16px;height:16px;border-radius:8px;background:#3aa0ff;cursor:pointer;margin-top:-7px}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR{height:16px;border-radius:4px;background:#EBEDF5;padding:0 .5rem;font-size:10px}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:hover,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:focus-within{background:none;box-shadow:0 0 0 1px #D8DBEB}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:hover input,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR:focus-within input{background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR.errorState_gkgGJ{box-shadow:0 0 0 1px #DE524C;background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR.errorState_gkgGJ input{color:#DE524C !important;background:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input{height:14px;border:none;text-align:right;-moz-appearance:textfield;background:#EBEDF5;font-size:10px;padding:.125rem 0 .125rem .25rem;border-radius:0}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input::-webkit-outer-spin-button,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:active,.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:focus{outline:none;box-shadow:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR input:focus-visible{outline:none}.controlsWrapper_2F2lz .frameInputWrapper_w4ghR label{color:#596080}.controlsWrapper_2F2lz .dropdownBtn_Fdbgs{width:24px;height:24px;display:flex;justify-content:center;align-items:center;padding:.25rem;border:none;background:none;box-shadow:none !important;background-color:none !important;border-radius:4px}.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:hover,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:active,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs:focus,.controlsWrapper_2F2lz .dropdownBtn_Fdbgs.visited_dkBp8{outline:none;background:#EBEDF5 !important}.controlsWrapper_2F2lz .actionBtn_bDfSV{background-color:#fff;color:#424866;text-align:left;justify-content:left}.controlsWrapper_2F2lz .actionBtn_bDfSV:hover{color:#fff;background-color:#2479FF}.controlsWrapper_2F2lz .actionBtn_bDfSV:active,.controlsWrapper_2F2lz .actionBtn_bDfSV:focus{box-shadow:none;outline:none}.controlsWrapper_2F2lz .actionBtn_bDfSV span{display:contents}\n",""]),n.locals={controlsWrapper:"controlsWrapper_2F2lz",controlsBtn:"controlsBtn_iLL8-",rangeInput:"rangeInput_Mipqq",frameInputWrapper:"frameInputWrapper_w4ghR",errorState:"errorState_gkgGJ",dropdownBtn:"dropdownBtn_Fdbgs",visited:"visited_dkBp8",actionBtn:"actionBtn_bDfSV"},e.exports=n},3772:function(e,t,r){var content=r(4883);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("949c0a1e",content,!0,{sourceMap:!1})},4066:function(e,t,r){var map={"./canyon.env":[4894,594],"./street.env":[4895,595],"./studio.env":[4896,596]};function n(e){if(!r.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],n=t[0];return r.e(t[1]).then((function(){return r(n)}))}n.keys=function(){return Object.keys(map)},n.id=4066,e.exports=n},4128:function(e,t,r){"use strict";t.a={data:()=>({worker:null}),created(){this.worker||(this.worker=this.$worker.initLottieSwapper(),this.worker.addEventListener("message",this.onWorkerResponse))},methods:{onWorkerResponse(e){}},destroyed(){this.worker&&this.worker.terminate()}}},4143:function(e,t,r){e.exports=r.p+"img/exclusive-badge.55365ec.svg"},4541:function(e,t,r){var content=r(5981);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("23ed2783",content,!0,{sourceMap:!1})},4542:function(e,t,r){var content=r(5983);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("da2aed5e",content,!0,{sourceMap:!1})},4543:function(e,t,r){var content=r(5985);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("20d3f470",content,!0,{sourceMap:!1})},4544:function(e,t,r){var content=r(5987);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(35).default)("b5f8871c",content,!0,{sourceMap:!1})},4882:function(e,t,r){"use strict";var n=r(3772),o=r.n(n);r.d(t,"default",(function(){return o.a}))},4883:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,".container_WB9ko{position:relative;margin:0 auto}.container_WB9ko .scroller_u1kAq{width:100%;white-space:nowrap;overflow-y:auto;padding:0 .5rem;scrollbar-width:0}.container_WB9ko .scroller_u1kAq.yScroll_INT6O{scroll-snap-type:y mandatory}.container_WB9ko .scroller_u1kAq::-webkit-scrollbar{width:0 !important;height:0 !important}.container_WB9ko .scroller_u1kAq ul>li{scroll-margin:30px;scroll-snap-align:start;scroll-snap-stop:normal}.container_WB9ko .scroller_u1kAq .top_6v-HM{position:absolute;z-index:11;top:-50px;left:50%;transform:translateX(-50%);border-radius:50%}.container_WB9ko .scroller_u1kAq .bottom_laz30{position:absolute;z-index:11;bottom:-50px;left:50%;transform:translateX(-50%);border-radius:50%}.container_WB9ko .scroller_u1kAq.noControls_ns74K .shadowTop_kp1yb,.container_WB9ko .scroller_u1kAq.noControls_ns74K .shadowBottom_JcaO5{display:none}\n",""]),n.locals={container:"container_WB9ko",scroller:"scroller_u1kAq",yScroll:"yScroll_INT6O",top:"top_6v-HM",bottom:"bottom_laz30",noControls:"noControls_ns74K",shadowTop:"shadowTop_kp1yb",shadowBottom:"shadowBottom_JcaO5"},e.exports=n},4959:function(e,t,r){"use strict";var n=r(1265),o=r(1266),l={components:{UilAngleUp:n.a,UilAngleDown:o.a},props:{noControls:{type:Boolean,default:!1},compressed:{type:Boolean,default:!1}},data:()=>({canScrollUp:!1,canScrollDown:!1}),mounted(){this.$nextTick((()=>{this.$refs.scroller&&this.setNextPrev()}))},methods:{setNextPrev(){this.canScrollUp=this.$refs.scroller.scrollTop>0,this.canScrollDown=this.$refs.scroller.scrollTop+this.$refs.scroller.offsetHeight<this.$refs.scroller.scrollHeight},swipeUp(){var e=this.$refs.scroller.clientHeight-Math.round(this.$refs.scroller.clientHeight/4);this.$refs.scroller.scrollTo({top:this.$refs.scroller.scrollTop-e,behavior:"smooth"}),window.setTimeout((()=>{this.setNextPrev()}),200)},swipeDown(){var e=this.$refs.scroller.clientHeight-Math.round(this.$refs.scroller.clientHeight/4);this.$refs.scroller.scrollTo({top:this.$refs.scroller.scrollTop+e,behavior:"smooth"}),window.setTimeout((()=>{this.setNextPrev()}),200)}}},c=r(4882),d=r(5);var component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.container},[t("div",{ref:"scroller",class:[e.$style.scroller,e.$style.yScroll,{"py-0":e.compressed,[e.$style.noControls]:e.noControls}],on:{scroll:e.setNextPrev}},[e._t("default"),e._v(" "),t("div",[e.canScrollUp?t("div",{class:e.$style.shadowTop},[t("button",{class:["btn btn-zero btn-icon",e.$style.top],attrs:{type:"button"},on:{click:e.swipeUp}},[t("uil-angle-up")],1)]):e._e(),e._v(" "),e.canScrollDown?t("div",{class:e.$style.shadowBottom},[t("button",{class:["btn btn-zero btn-icon",e.$style.bottom],attrs:{type:"button"},on:{click:e.swipeDown}},[t("uil-angle-down")],1)]):e._e()])],2)])}),[],!1,(function(e){this.$style=c.default.locals||c.default}),null,null);t.a=component.exports},5023:function(e,t,r){e.exports=r.p+"img/full-screen.0cca4a3.svg"},5980:function(e,t,r){"use strict";var n=r(4541),o=r.n(n);r.d(t,"default",(function(){return o.a}))},5981:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,".previewerWrapper_la0ok{flex-grow:1}.previewerWrapper_la0ok .container_MOTUv{width:100%;height:100%;border-radius:12px;aspect-ratio:1 / 0.5}.previewerWrapper_la0ok .container_MOTUv:focus{outline:none}\n",""]),n.locals={previewerWrapper:"previewerWrapper_la0ok",container:"container_MOTUv"},e.exports=n},5982:function(e,t,r){"use strict";var n=r(4542),o=r.n(n);r.d(t,"default",(function(){return o.a}))},5983:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,".loadingControlDiv_UVTib{height:32px}\n",""]),n.locals={loadingControlDiv:"loadingControlDiv_UVTib"},e.exports=n},5984:function(e,t,r){"use strict";var n=r(4543),o=r.n(n);r.d(t,"default",(function(){return o.a}))},5985:function(e,t,r){var n=r(34)((function(i){return i[1]}));n.push([e.i,'.previews_cLB4m{padding:0;margin:0;max-height:250px}.previews_cLB4m .previewItem_2bus0{height:3rem;width:3rem;margin-bottom:.5rem;cursor:pointer;display:block;border:1px solid #EBEDF5;border-radius:8px;padding:.5rem;position:relative;background-color:#fff}.previews_cLB4m .previewItem_2bus0 .previewImg_QXMOI{max-width:100%;max-height:100%}.previews_cLB4m .previewItem_2bus0:hover{background:#F5F6FA}@media (max-width: 1023.98px){.previews_cLB4m .previewItem_2bus0{padding:.25rem}}.previews_cLB4m .previewItem_2bus0.active_FcXmy{background-color:#EBEDF5}.previews_cLB4m .previewItem_2bus0.active_FcXmy::before{content:"";position:absolute;display:block;height:6px;width:6px;transform:rotateZ(45deg);border-top:3px solid #EBEDF5;border-right:3px solid #EBEDF5;border-bottom:3px solid transparent;border-left:3px solid transparent;right:-4px;top:50%;transform:translateY(-50%) rotateZ(45deg);margin-left:-2px}\n',""]),n.locals={previews:"previews_cLB4m",previewItem:"previewItem_2bus0",previewImg:"previewImg_QXMOI",active:"active_FcXmy"},e.exports=n},5986:function(e,t,r){"use strict";var n=r(4544),o=r.n(n);r.d(t,"default",(function(){return o.a}))},5987:function(e,t,r){var n=r(34),o=r(377),l=r(1340),c=n((function(i){return i[1]})),d=o(l);c.push([e.i,".container_TgSwR{padding:0 1.5rem}.container_TgSwR.responsivePosition_Jv5jH{align-items:end}@media (max-width: 1580px){.container_TgSwR.responsivePosition_Jv5jH{padding-bottom:74px}}.container_TgSwR .badges_sJeQx{position:absolute;top:60px;left:1.5rem;z-index:15}.container_TgSwR .badges_sJeQx.highTop_CxrvU{top:1.5rem}@media (max-width: 1023.98px){.container_TgSwR .badges_sJeQx{display:none}}.container_TgSwR .previewContainer_QOycb{position:relative;height:auto;min-height:720px;max-width:928px;width:100%;display:flex;align-items:center;justify-content:center}.container_TgSwR .previewContainer_QOycb.darkBg_phBqa{background:#1C2033}.container_TgSwR .previewContainer_QOycb .lottie_82UTS{display:block;max-height:540px;max-width:100%}.container_TgSwR .previewContainer_QOycb .lottie_82UTS lottie-player{cursor:pointer}.container_TgSwR .previewContainer_QOycb>video{display:block;max-height:540px;max-width:100%;cursor:pointer}.container_TgSwR .previewContainer_QOycb .thumbPreview_GFPGL{overflow:hidden;display:block;width:100%;text-align:center;cursor:pointer}.container_TgSwR .previewContainer_QOycb .thumbPreview_GFPGL>source,.container_TgSwR .previewContainer_QOycb .thumbPreview_GFPGL>img{object-fit:contain;max-height:100%;max-width:100%;pointer-events:none}.container_TgSwR .previewContainer_QOycb .mockupPreview_hpHOE{text-align:center;cursor:pointer}.container_TgSwR .previewContainer_QOycb .mockupPreview_hpHOE>source,.container_TgSwR .previewContainer_QOycb .mockupPreview_hpHOE>img{max-height:450px;max-width:100%;border-radius:8px;margin-top:50px;object-fit:contain;pointer-events:none}.container_TgSwR .previewContainer_QOycb .fullScreen_yYb8C{opacity:0;position:absolute;cursor:pointer;pointer-events:none;transition:opacity 0.22s}.container_TgSwR .previewContainer_QOycb:hover .fullScreen_yYb8C{opacity:1}.container_TgSwR .previewContainer_QOycb .watermark_r8N0V:before{position:absolute;content:'';background-image:url("+d+");background-repeat:no-repeat;background-position:center;opacity:0.7;width:100%;height:100%;pointer-events:none;z-index:1020}.container_TgSwR .compContainer_oaDJW{opacity:0;transition:all 0.2s ease-in-out}.container_TgSwR:hover .compContainer_oaDJW{opacity:1}.container_TgSwR .multiplePreview_0XYHI{position:absolute;left:1.5rem;top:50%;transform:translateY(-50%);z-index:11}.container_TgSwR .D3Preview_qq210{position:absolute;bottom:5rem;left:1.5rem;transition:none}.container_TgSwR .close360ViewBtn_n0kC4{position:absolute;bottom:0;left:50%;transform:translate(-50%, -50%)}.container_TgSwR .brandColor_7pit9{position:absolute;bottom:22px;left:80px;z-index:11}@media (max-width: 1023.98px){.container_TgSwR .brandColor_7pit9{display:none}}.container_TgSwR .brandColor_7pit9.hasEditorBtn_-SAda{left:calc(2rem + 44px);bottom:0}.container_TgSwR .copyToClipboardBtn_PX0Rg{position:absolute;right:1.5rem;bottom:0;z-index:11}\n",""]),c.locals={container:"container_TgSwR",responsivePosition:"responsivePosition_Jv5jH",badges:"badges_sJeQx",highTop:"highTop_CxrvU",previewContainer:"previewContainer_QOycb",darkBg:"darkBg_phBqa",lottie:"lottie_82UTS",thumbPreview:"thumbPreview_GFPGL",mockupPreview:"mockupPreview_hpHOE",fullScreen:"fullScreen_yYb8C",watermark:"watermark_r8N0V",compContainer:"compContainer_oaDJW",multiplePreview:"multiplePreview_0XYHI",D3Preview:"D3Preview_qq210",close360ViewBtn:"close360ViewBtn_n0kC4",brandColor:"brandColor_7pit9",hasEditorBtn:"hasEditorBtn_-SAda",copyToClipboardBtn:"copyToClipboardBtn_PX0Rg"},e.exports=c},6259:function(e,t,r){"use strict";r.r(t);var n=r(7);r(33),r(48);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=r(8),d=(r(26),r(1307),r(1308),r(41),r(1304),r(22),r(36),r(1334),r(1311),r(1312),r(1313),r(1314),r(27),r(3823)),h=r(1264),m=r(1325),v=r.n(m),w=r(4879),f=r.n(w),y=r(1291),_=r(73),P=r(3121),x=r(1368),O=r(376),k=r(1514),$=r(383),C=r.n($),B=r(4055),S=r.n(B),L=r(1432),j=r(1390),F={components:{Loader:L.default},mixins:[j.a],props:{src:{type:String,required:!0},fallbackSrc:{type:String,required:!0},hasPreviewLoaded:{type:Boolean,default:!1},currentEnvironment:{type:String,default:"default"}},data:()=>({id:"iconScout3DPreviewerPdp",initiatedWithBrandPalette:!1,isLoading:!0,resizeObserver:null}),fetchOnServer:!1,fetch(){this.load()},computed:{selectedBrandPalette(){return this.$store.getters["brandPalettes/selectedPalette"]}},created(){this.startWatch()},mounted(){this.$nuxt.$on("download-3d-360",((e,t)=>{"glb"===e.format||"gltf"===e.format?this.babylon.exportGLB(e.name):"png"===e.format&&this.babylon.exportPNG(e.name,e.size.width,null,e.download).then((e=>{"function"==typeof t&&t(e)}))})),this.resizeObserver=new ResizeObserver(S()(C()((()=>{var e;null===(e=this.babylon)||void 0===e||e.engine.resize()}),3)),5),this.resizeObserver.observe(document.getElementById(this.id))},beforeDestroy(){this.$nuxt.$off("download-3d-360"),this.disposeCurrentSceneEngine(),this.stopWatch(),this.resizeObserver&&this.resizeObserver.disconnect()},methods:{load(){var e=this;return Object(c.a)((function*(){try{if(e.isGlbLoading)return;e.isLoading=!0;var t=(yield Promise.all([r.e(59),r.e(92),r.e(341),r.e(352)]).then(r.bind(null,6013))).Babylon;if(e.babylon=new t(e.$refs[e.id],{debug:!1,isUnicons:!1,autoRotate:!0}),e.currentEnvironment&&"default"!==e.currentEnvironment){var n=yield r(4066)("./".concat(e.currentEnvironment,".env"));yield e.babylon.setEnvironment(n.default)}yield e.babylon.loadUrl(e.src,e.fallbackSrc,null,e.$sentry),e.selectedBrandPalette?(e.swap(e.selectedBrandPalette.colors),e.initiatedWithBrandPalette=!0):e.initiatedWithBrandPalette=!1}catch(e){console.error("Error loading 3D model",e)}finally{e.isLoading=!1,e.$emit("update:hasPreviewLoaded",!0)}}))()},onPaletteSelected(){if(this.selectedBrandPalette)this.swap(this.selectedBrandPalette.colors);else{var e=this.babylon.getOriginalColors(this.babylon.scene.materials);this.babylon.setColors(e)}},onPalettesLoaded(){this.selectedBrandPalette&&!this.initiatedWithBrandPalette&&!this.isLoading&&this.swap(this.selectedBrandPalette.colors)},swap(e){var t=this.babylon.getOriginalColors(this.babylon.scene.materials);if(t.length){var r=k.colorSwapper.swap(t,e);this.babylon.setColors(r)}},onCanvasClick(){this.babylon&&this.babylon.setCameraRotation(!1)},disposeCurrentSceneEngine(){this.babylon&&(this.babylon.engine.stopRenderLoop(),this.babylon.scene.dispose(),this.babylon.engine.dispose(),this.babylon=null,this.initiatedWithBrandPalette=!1)}}},I=r(5980),T=r(5);var W=Object(T.a)(F,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.previewerWrapper},[e.isLoading?t("div",[t("span",{staticClass:"sr-only"},[e._v("Loading 3D Preview")]),e._v(" "),t("loader",{attrs:{width:300,height:300}})],1):e._e(),e._v(" "),t("canvas",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],ref:e.id,class:e.$style.container,attrs:{id:e.id},on:{click:e.onCanvasClick,wheel:function(e){e.preventDefault()}}})])}),[],!1,(function(e){this.$style=I.default.locals||I.default}),null,null).exports,D=r(1442),M=r(1587),label=r(1461),z=r(1411),R=r(1474),E=r(4128),U=r(3392);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N={components:{Loader:L.default,Controls:U.a},mixins:[E.a,j.a,R.a,D.a],props:{item:{type:Object,default:()=>{}},hasCustomControls:{type:Boolean,default:!1}},data:()=>({originalContent:null,isLoading:!1,isPlaying:!0,animationData:null,player:null,isCopied:!1,isLoadingAction:null}),computed:{id(){return"pdp-lottie-player-".concat(this.item.id)},selectedBrandPalette(){return this.$store.getters["brandPalettes/selectedPalette"]},originalLottieData(){return this.originalContent||this.item.urls.original}},created(){this.startWatch()},mounted(){this.$nuxt.$emit("lottie-pdp-model-opened",this.id),this.isLoading=!0;var e=this;r.e(305).then(r.bind(null,6226)).then((()=>{e.$nextTick(Object(c.a)((function*(){e.player=e.$refs.lottiePlayer,yield e.player.load(e.originalLottieData),e.player.play(),e.hasCustomControls&&(e.animationData=e.player.getLottie())})))}))},destroyed(){this.$nuxt.$emit("lottie-pdp-model-closed")},methods:{play(){this.player.play(),this.isPlaying=!0},pause(){this.player.pause(),this.isPlaying=!1},onPaletteSelected(){this.selectedBrandPalette?this.swap(this.selectedBrandPalette.colors):this.applyLive(this.originalLottieData)},onLoad(){var e=this;return Object(c.a)((function*(){if(!e.originalContent){var t=yield e.player.getLottie();e.originalContent=t.animationData}e.selectedBrandPalette&&e.swap(e.selectedBrandPalette.colors),e.isLoading=!1}))()},swap(e){this.$nuxt.$loading.start(),this.worker.postMessage(JSON.parse(JSON.stringify({lottie:this.originalLottieData,palette:e})))},onWorkerResponse(e){this.applyLive(e.data.swappedJson)},applyLive(e){var t=this;return Object(c.a)((function*(){var r=Math.ceil(t.player.getLottie().currentFrame);yield t.player.load(e),yield t.player.seek(r),t.animationData=t.player.getLottie(),t.$nuxt.$loading.finish()}))()},onLargePreview(){var e=this;return Object(c.a)((function*(){var{animationData:t}=yield e.player.getLottie();e.$modal.open({id:"modalItemPreviewFs",component:Promise.all([r.e(0),r.e(104)]).then(r.bind(null,6184)),props:{item:e.item,brandPreview:JSON.stringify(t),selectedPreviewIndex:e.selectedPreviewIndex,hasCustomControls:e.hasCustomControls},options:{modalOnModal:!0}})}))()},preHandleAuth(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this.handleAuth({trackAuth:()=>this.track("auth",e)})){if(this.canDownload)return!0;if(this.$store.state.user.previousSubscription)this.$modal.open({id:"modalUpdatePaymentDetails",component:Promise.all([r.e(0),r.e(98)]).then(r.bind(null,3281)),options:{track:!0,modalOnModal:!0,extraTrackingData:{from_location:"pdp-player-control-".concat(e,"-svg"),from_asset:this.item.asset}},props:{previousSubscription:this.$store.state.user.previousSubscription}});else{this.track("pricing",e);var t="".concat("https://iconscout.com").concat(this.$router.resolve(this.$helper.localize({name:"pricing"})).href);window.open(t,"_blank")}}return!1},onDownload(){var e=this;return Object(c.a)((function*(){if(e.preHandleAuth("download"))if(e.isLoadingAction="download",yield e.preDownload({format:"svg",canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-preview",action:"player-controls-download"}))try{e.player.snapshot()}catch(t){console.error(t),e.toastMessage("Failed to download file")}finally{e.isLoadingAction=null}else{e.isLoadingAction=null;var t="Failed to fetch URL";console.error(t),e.toastMessage(t)}}))()},onCopy(){var e=this;return Object(c.a)((function*(){if(e.preHandleAuth("copy"))if(e.isLoadingAction="copy",yield e.preDownload({format:"svg",canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-preview",action:"player-controls-copy"}))try{e.isCopied=!0;var t=(new DOMParser).parseFromString(e.player.snapshot(!1),"text/xml");t.getElementsByTagName("svg")[0].setAttribute("id",e.item.name),v()((new XMLSerializer).serializeToString(t)),setTimeout((()=>{e.isCopied=!1}),5e3)}catch(r){console.error(r),e.toastMessage("Failed to copy file")}finally{e.isLoadingAction=null}else{e.isLoadingAction=null;var r="Failed to fetch URL";console.error(r),e.toastMessage(r)}}))()},track(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"copy";if(this.$analytics.track("pdp-preview",{route_path:this.$route.path,route_name:this.$route.name,location:"pdp-player-controls",action:t,data:V({postAction:e},Object(y.a)(this,{item:this.item,canBranded:!0}))}),"pricing"===e){this.$analytics.track("pricing",{route_name:this.$route.name,route_path:this.$route.path,location:"pdp-player-controls",action:t,data:V({postAction:"pricing-page",feature:"pdp-preview",featureKey:"".concat(t,"-pdp-preview-").concat(this.item.asset,"-").concat("svg","-pdp-player-controls")},Object(y.a)(this,{item:this.item,canBranded:!0}))})}},toastMessage(title){this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})}}},H=N,G=r(5982);var J=Object(T.a)(H,(function(){var e=this,t=e._self._c;return t("div",[e.isLoading?t("loader",{attrs:{width:300,height:300}}):e._e(),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isLoading,expression:"!isLoading"}],staticClass:"d-flex flex-column justify-content-center align-items-center"},[t("lottie-player",{ref:"lottiePlayer",style:{width:"auto",height:"500px",overflow:"hidden",margin:"0 auto"},attrs:{id:e.id,loop:""},on:{load:e.onLoad,click:e.onLargePreview}}),e._v(" "),e.hasCustomControls?[e.animationData?t("controls",{attrs:{"is-playing":e.isPlaying,animation:e.animationData,"is-loading":e.isLoadingAction,"is-copied":e.isCopied,item:e.item,client:"pdp"},on:{copySvg:e.onCopy,downloadSvg:e.onDownload,play:e.play,pause:e.pause}}):t("div",{class:e.$style.loadingControlDiv})]:e._e()],2)],1)}),[],!1,(function(e){this.$style=G.default.locals||G.default}),null,null).exports;function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y={components:{VerticalScroll:r(4959).a},props:{asset:{type:String,default:"illustration"},previews:{type:Array,default:()=>[]},selectedPreviewIndex:{type:Number,default:0},item:{type:Object,default:()=>{}}},computed:{isCuratedMockup(){return!!(this.previews&&this.previews.length>1&&this.previews[this.selectedPreviewIndex].isCuratedMockup)}},methods:{resizedUrl:O.a,generateSrcSetPx:_.c,generateMultipleFormats:_.a,onClick(e){this.$emit("change-preview",e),this.$nextTick((()=>{this.$analytics.track("pdp-preview",{route_name:this.$route.name,route_path:this.$route.path,location:"multi-preview-icons",action:"click",data:X({isCuratedMockup:this.isCuratedMockup,index:e},Object(y.a)(this,{item:this.item,canBranded:!1}))})}))}}},K=r(5984);var Z=Object(T.a)(Y,(function(){var e=this,t=e._self._c;return t("div",[t("vertical-scroll",[t("ul",{class:e.$style.previews},e._l(e.previews,(function(r,n){return t("li",{key:n,staticClass:"d-block mx-2"},[t("button",{class:[e.$style.previewItem,e.selectedPreviewIndex===n?e.$style.active:null],attrs:{type:"button"},on:{click:function(t){return e.onClick(n)}}},["lottie"===e.asset?t("video",{class:e.$style.previewImg,attrs:{src:e.resizedUrl({url:r.thumb,h:32}),autoplay:"",muted:"",loop:"",playsinline:"",type:"video/mp4"},domProps:{muted:!0}}):t("picture",[t("source",e._b({},"source",e.generateMultipleFormats({url:r.thumb,w:32}),!1)),e._v(" "),t("img",e._b({class:e.$style.previewImg,attrs:{loading:"lazy"}},"img",e.generateSrcSetPx({url:r.thumb,w:32,format:"webp"}),!1))])])])})),0)])],1)}),[],!1,(function(e){this.$style=K.default.locals||K.default}),null,null).exports,ee=r(3098);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=600,ne=500,oe={components:{UilEye:d.a,UilTimes:h.a,MultiplePreview:Z,BrandPaletteButton:z.a,LottieBrandPreview:J,SvgBrandPreview:ee.a,D3Preview:W},mixins:[M.a,D.a,label.a],props:{item:{type:Object,default:()=>{}},brandClient:{type:String,default:null},show360Preview:{type:Boolean,default:!1},hasEditorBtn:{type:Boolean,default:!1}},data:()=>({showLarge:!1,selectedPreviewIndex:0,previewType:"normal",isLoading:!1,isCopied:!1,dataToCopy:null,showBrandedItem:!0,hasPreviewLoaded:!1}),computed:{copyableFormat(){return"3d"===this.item.asset?"png":"svg"},guestPreviewAttrs(){if(this.item){var e=re,t=ne;this.item.width>this.item.height?(e=re,(t=this.item.height*e/this.item.width)>ne&&(t=ne,e=this.item.width*t/this.item.height)):(t=ne,(e=this.item.width*t/this.item.height)>re&&(e=re,t=this.item.height*e/this.item.width));var r=this.calculateWatermarkHeight(this.item.width,this.item.height,t);return e=Math.round(e),t=Math.round(t),{style:{marginBottom:"-".concat(Math.ceil(r),"px")},width:e,height:t+r}}return{}},previews(){var e,t=[];return"3d"===this.item.asset?this.item.preview_files.forEach((e=>{t.push(e)})):t.push(this.item.urls),null!==(e=this.item)&&void 0!==e&&null!==(e=e.curated_item)&&void 0!==e&&null!==(e=e.urls)&&void 0!==e&&e.preview&&t.splice(1,0,{thumb:this.item.curated_item.urls.preview,preview:this.item.curated_item.urls.preview,isCuratedMockup:!0}),t},hasMultiplePreview(){return this.previews&&this.previews.length>1},currentPreviewUrl(){return this.hasMultiplePreview?this.previews[this.selectedPreviewIndex].preview:this.item.urls.preview},currentThumbUrl(){return this.hasMultiplePreview?this.previews[this.selectedPreviewIndex].thumb:this.item.urls.thumb},previewPictureClass(){var e;return null!==(e=this.item)&&void 0!==e&&null!==(e=e.curated_item)&&void 0!==e&&null!==(e=e.urls)&&void 0!==e&&e.preview&&this.previews[this.selectedPreviewIndex]&&this.previews[this.selectedPreviewIndex].isCuratedMockup&&"mockup"===this.previewType?this.$style.mockupPreview:this.$style.thumbPreview},canCopyFile(){return"lottie"===this.item.asset||(["illustration","ai-image"].includes(this.item.asset)?(!this.hasMultiplePreview||!this.previews[this.selectedPreviewIndex].isCuratedMockup)&&(this.item.formats.map((e=>e.name)).includes("svg")||(null===(e=this.item.urls.svg)||void 0===e?void 0:e.includes(".svg")))&&this.showBrandedItem:!("3d"!==this.item.asset||!window.navigator.clipboard)&&(!this.hasMultiplePreview||!this.previews[this.selectedPreviewIndex].isCuratedMockup));var e},showWatermark(){return!this.canItemDownload(this.item)},canShow360Preview(){return"3d"===this.item.asset&&this.showBrandedItem&&f()(["glb","gltf"],this.item.additional_formats).length>0&&0===this.selectedPreviewIndex}},watch:{"item.id"(e){e&&(this.showBrandedItem=!1,this.hasPreviewLoaded=!1,this.$nextTick((()=>{this.showBrandedItem=!0})))},showBrandedItem(e){this.$nuxt.$emit("show-branded-item-changed",e)},isLoading(e){this.$nuxt.$emit("copy-asset-loading",e)},isCopied(e){this.$nuxt.$emit("copied-asset",e)}},mounted(){this.$nuxt.$on("copy-file",this.onCopy)},beforeDestroy(){this.$nuxt.$off("copy-file")},methods:{resizedUrl:O.a,generateSrcSetPx:_.c,generateMultipleFormats:_.a,getTourStepId:x.a,calculateWatermarkHeight:P.a,onCopy(){var e=this;return Object(c.a)((function*(){if(e.handleDownload({name:"pdp-preview",action:"copy",canBranded:e.canBranded,extraTrackingData:{format:e.copyableFormat}},{openPricingInNewTab:!0,format:e.copyableFormat,setIsLoading:t=>{e.isLoading=!!t}}))if(e.isLoading=!0,e.show360Preview)e.$nuxt.$emit("download-3d-360",{name:e.item.name,size:{width:1e3},format:"png",download:!1},function(){var t=Object(c.a)((function*(t){yield e.preDownload({format:e.copyableFormat,canBeBranded:!0,url:!0,nuxtLoader:!1,location:"pdp-purchase",action:"copy",d3base64String:t});for(var r=t.replace(/^data:image\/png;base64,/,""),n=atob(r),o=new Uint8Array(n.length),i=0;i<n.length;i++)o[i]=n.charCodeAt(i);var l=new Blob([o],{type:"image/png"});e.dataToCopy=[new ClipboardItem({"image/png":l})],document.hasFocus()?e.copyToClipboard():window.addEventListener("focus",e.copyToClipboard)}));return function(e){return t.apply(this,arguments)}}());else{var t=yield e.preDownload({format:e.copyableFormat,canBeBranded:!0,downloadUrl:!0,nuxtLoader:!1,location:"pdp-purchase",action:"copy"});if(t)if("svg"===e.copyableFormat)if("lottie"===e.item.asset)try{e.isCopied=!0;var r=(new DOMParser).parseFromString(e.$refs.lottieBrandPreview.player.snapshot(!1),"text/xml");r.getElementsByTagName("svg")[0].setAttribute("id",e.item.name),v()((new XMLSerializer).serializeToString(r)),setTimeout((()=>{e.isCopied=!1}),5e3)}catch(n){console.error(n),e.toastMessage("Failed to copy file")}finally{e.isLoading=!1}else fetch(t).then((e=>e.text())).then((t=>{v()(t),e.isCopied=!0,setTimeout((()=>{e.isCopied=!1}),5e3)})).catch((t=>{console.error(t),e.toastMessage("Failed to copy file")})).finally((()=>{e.isLoading=!1}));else fetch(e.hasMultiplePreview?e.previews[e.selectedPreviewIndex].thumb:e.item.urls.thumb).then((e=>e.blob())).then((t=>{e.dataToCopy=[new ClipboardItem({[t.type]:t})],document.hasFocus()?e.copyToClipboard():window.addEventListener("focus",e.copyToClipboard)})).catch((t=>{console.error(t),e.toastMessage("Failed to copy file"),e.isLoading=!1}));else{e.isLoading=!1;var n="Failed to fetch URL";console.error(n),e.toastMessage(n)}}}))()},copyToClipboard(){var e=this;return Object(c.a)((function*(){try{yield navigator.clipboard.write(e.dataToCopy),e.dataToCopy=null,e.isCopied=!0,setTimeout((()=>{e.isCopied=!1}),3e3)}catch(t){console.error("Failed to copy file: ",t),e.toastMessage("Failed to copy file")}finally{e.isLoading=!1,window.removeEventListener("focus",e.copyToClipboard)}}))()},toastMessage(title){this.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"})},onLoad(e){var t=null;this.$refs.thumbVideo&&(t=this.$refs.thumbVideo.currentTime),t&&this.$refs.mainVideo&&(this.$refs.mainVideo.currentTime=t+.05),this.hasPreviewLoaded=!0,this.previewType=this.hasMultiplePreview&&this.previews[this.selectedPreviewIndex].isCuratedMockup?"mockup":"normal"},onLargePreview(){this.$modal.open({id:"modalItemPreviewFs",component:Promise.all([r.e(0),r.e(104)]).then(r.bind(null,6184)),props:{item:this.item,currentPreviewUrl:this.currentPreviewUrl},options:{modalOnModal:!0}})},load360View(){this.handleAuth({trackAuth:()=>this.trackLoad360("auth")})&&(this.trackLoad360("default"),this.hasPreviewLoaded=!1,this.$emit("update:show360Preview",!0))},trackLoad360(e){this.$analytics.track("pdp-preview",{route_path:this.$route.path,route_name:this.$route.name,location:"bottom-left",action:"view-in-360",data:ie({postAction:e},Object(y.a)(this,{item:this.item,canBranded:this.canBranded}))})},exit360View(){this.$analytics.track("pdp-preview",{route_path:this.$route.path,route_name:this.$route.name,location:"bottom-center",action:"exit-360-view",data:ie({},Object(y.a)(this,{item:this.item,canBranded:this.canBranded}))}),this.$emit("update:show360Preview",!1)},selectedPreviewIndexChanged(e){this.$nuxt.$emit("selected-preview-index-changed",e,this.previews[e]),this.selectedPreviewIndex=e}}},ae=oe,se=r(5986);var le=Object(T.a)(ae,(function(){var e,t,n,o,c,d,h,m=this,v=m._self._c;return v("div",{class:["d-flex justify-content-center",m.item&&"lottie"===m.item.asset?m.$style.responsivePosition:null,m.$style.container]},[m.item.additional_informations&&m.item.additional_informations.iconscout_exclusive?v("div",{class:[m.$style.badges,{[m.$style.highTop]:"pdp-modal"!==m.brandClient}],attrs:{"data-balloon":m.$t("common.iconscout_exclusive"),"data-balloon-pos":"right"}},[v("img",{attrs:{src:r(4143),alt:m.$t("common.iconscout_exclusive"),height:"64"}})]):m.item.featured?v("div",{class:[m.$style.badges,{[m.$style.highTop]:"pdp-modal"!==m.brandClient}],attrs:{"data-balloon":m.$tc("common.featured_asset"),"data-balloon-pos":"right"}},[v("img",{attrs:{src:r(1775),alt:m.$tc("common.featured_asset"),height:"64"}})]):m._e(),m._v(" "),v("div",{class:[m.$style.previewContainer,m.item.additional_informations&&"dark"===m.item.additional_informations.background_type?m.$style.darkBg:null,"lottie"!==m.item.asset?"overflow-hidden":null,m.hasMultiplePreview?"mb-8":null],attrs:{id:m.getTourStepId("pdp-ai-reimagine",1)}},["lottie"===m.item.asset?[m.showBrandedItem&&m.isLoggedIn&&m.item.urls.original&&null!==(e=m.item.urls.original)&&void 0!==e&&e.includes(".json")&&0===m.selectedPreviewIndex?v("lottie-brand-preview",{ref:"lottieBrandPreview",class:["position-relative",m.$style.lottie,m.showWatermark?m.$style.watermark:null],attrs:{item:m.item,"has-custom-controls":!0}}):[v("video",{directives:[{name:"show",rawName:"v-show",value:m.hasPreviewLoaded,expression:"hasPreviewLoaded"}],ref:"mainVideo",attrs:{src:m.resizedUrl({url:m.item.urls.preview}),autoplay:"",muted:"",loop:"",playsinline:"",type:"video/mp4"},domProps:{muted:!0},on:{click:m.onLargePreview,canplay:m.onLoad}}),m._v(" "),m.hasPreviewLoaded?m._e():v("video",{ref:"thumbVideo",attrs:{src:m.resizedUrl({url:m.currentThumbUrl}),autoplay:"",muted:"",loop:"",height:"800",playsinline:"",type:"video/mp4"},domProps:{muted:!0},on:{click:m.onLargePreview}}),m._v(" "),v("img",{class:m.$style.fullScreen,attrs:{src:r(5023),alt:m.$t("common.full_screen")}})]]:[m.showBrandedItem&&m.isLoggedIn&&"illustration"===m.item.asset&&null!==(t=m.item.urls.svg)&&void 0!==t&&t.includes(".svg")&&0===m.selectedPreviewIndex?v("svg-brand-preview",{class:[m.showWatermark?m.$style.watermark:null],attrs:{item:m.item,size:550},on:{disableBrandedPreview:function(e){m.showBrandedItem=!1},updatePreview:function(e){return m.$emit("updatePreview",e)}}}):m.canShow360Preview&&m.show360Preview?v("div",{staticClass:"d-flex w-100 h-100 pt-6 pb-9"},[v("D3Preview",{class:[m.showWatermark?m.$style.watermark:null],attrs:{src:m.item.urls["compressed-glb"]||m.item.urls.glb||m.item.urls.gltf,"current-environment":m.item.additional_informations.renderer_environment,"fallback-src":m.item.urls.glb||m.item.urls.gltf,"has-preview-loaded":m.hasPreviewLoaded},on:{"update:hasPreviewLoaded":function(e){m.hasPreviewLoaded=e},"update:has-preview-loaded":function(e){m.hasPreviewLoaded=e}}})],1):[v("picture",{directives:[{name:"show",rawName:"v-show",value:m.hasPreviewLoaded,expression:"hasPreviewLoaded"}],class:m.previewPictureClass,on:{click:m.onLargePreview}},[v("source",m._b({},"source",m.generateMultipleFormats({url:m.currentPreviewUrl,h:700}),!1)),m._v(" "),v("img",m._b({attrs:{alt:0===m.selectedPreviewIndex?m.name:"".concat(m.name,"-preview-").concat(m.selectedPreviewIndex)},on:{load:m.onLoad}},"img",l(l({},m.generateSrcSetPx({url:m.currentPreviewUrl,h:700,format:"webp"})),m.guestPreviewAttrs),!1))]),m._v(" "),m.hasPreviewLoaded?m._e():v("picture",{class:m.previewPictureClass},[v("source",m._b({},"source",m.generateMultipleFormats({url:m.currentThumbUrl}),!1)),m._v(" "),v("img",m._b({attrs:{alt:0===m.selectedPreviewIndex?m.name:"".concat(m.name,"-preview-").concat(m.selectedPreviewIndex),width:m.guestPreviewAttrs.width,height:m.guestPreviewAttrs.height}},"img",m.generateSrcSetPx({url:m.currentPreviewUrl,h:700,format:"webp"}),!1))]),m._v(" "),v("img",{class:m.$style.fullScreen,attrs:{src:r(5023),alt:"Full Screen"}})]]],2),m._v(" "),(null!==(n=m.item.additional_informations.gltf_info)&&void 0!==n&&n.is_verified||m.item.additional_informations.verified_gltf)&&m.canShow360Preview&&!m.show360Preview?v("div",{class:m.$style.D3Preview},[v("portal",{attrs:{to:"pdp-preview-left-side-action"}},[v("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"View in 360",placement:"right",popperClass:"new-tooltip-style"},expression:"{\n          content: `View in 360`,\n          placement: 'right',\n          popperClass: 'new-tooltip-style',\n        }"}],staticClass:"btn btn-icon btn-default mb-2-5",attrs:{type:"button"},on:{click:m.load360View}},[v("uil-eye")],1)])],1):m._e(),m._v(" "),m.show360Preview?v("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:"Exit 360 view",placement:"top",popperClass:"new-tooltip-style"},expression:"{\n      content: `Exit 360 view`,\n      placement: 'top',\n      popperClass: 'new-tooltip-style',\n    }"}],class:["btn btn-default has-icon",m.$style.close360ViewBtn],attrs:{type:"button"},on:{click:m.exit360View}},[v("uil-times",{staticClass:"mr-2-5"}),m._v("\n    Exit 360 view\n  ")],1):m.hasMultiplePreview?v("div",{class:["mt-3",m.$style.multiplePreview]},[v("multiple-preview",{attrs:{asset:m.item.asset,previews:m.previews,item:m.item,"selected-preview-index":m.selectedPreviewIndex},on:{"change-preview":m.selectedPreviewIndexChanged}})],1):m._e(),m._v(" "),"3d"===m.item.asset&&m.canShow360Preview&&m.show360Preview&&m.hasPreviewLoaded&&(m.item.urls["compressed-glb"]||m.item.urls.glb||m.item.urls.gltf)||"illustration"===m.item.asset&&m.showBrandedItem&&(m.item.formats&&m.item.formats.length&&m.item.formats.map((e=>e.name)).includes("svg")||null!==(o=m.item.urls.svg)&&void 0!==o&&o.includes(".svg"))||"lottie"===m.item.asset&&(m.item.formats&&m.item.formats.length&&m.item.formats.map((e=>e.name)).includes("json")||null!==(c=m.item.urls.original)&&void 0!==c&&c.includes(".json"))?v("div",{class:[m.$style.brandColor,{[m.$style.hasEditorBtn]:m.hasEditorBtn}]},[v("brand-palette-button",{attrs:{enable:m.isLoggedIn&&("illustration"===m.item.asset&&(null===(d=m.item.urls.svg)||void 0===d?void 0:d.includes(".svg"))||"lottie"===m.item.asset&&(null===(h=m.item.urls.original)||void 0===h?void 0:h.includes(".json"))),"brand-client":m.brandClient,reduced:"","tooltip-position":"up-left",params:{slug:m.item.identifier||m.item.slug,asset:m.item.asset,query:m.item.tags.length>0?m.item.tags[0].slug:null}}})],1):m._e()])}),[],!1,(function(e){this.$style=se.default.locals||se.default}),null,null);t.default=le.exports}}]);
